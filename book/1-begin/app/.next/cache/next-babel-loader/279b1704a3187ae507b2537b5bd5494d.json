{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Button from '@material-ui/core/Button';\nimport React from 'react';\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport Layout from '../components/layout';\nimport NProgress from 'nprogress';\nimport confirm from '../lib/confirm';\nimport notify from '../lib/notify';\nimport { getUserBySlugApiMethod } from '../lib/api/public';\n\nvar Index = /*#__PURE__*/function (_React$Component) {\n  _inherits(Index, _React$Component);\n\n  var _super = _createSuper(Index);\n\n  function Index() {\n    _classCallCheck(this, Index);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Index, [{\n    key: \"render\",\n    value: function render() {\n      return __jsx(Layout, this.props, __jsx(Head, null, __jsx(\"title\", null, \"Index page\"), __jsx(\"meta\", {\n        name: \"description\",\n        content: \"This is a description of the Index page\"\n      })), __jsx(\"div\", {\n        style: {\n          padding: '0px 30px',\n          fontSize: '15px',\n          height: '100%'\n        }\n      }, __jsx(\"p\", null, \"Content on Index page\"), __jsx(Link, {\n        href: \"/csr-page\",\n        as: \"/csr-page\"\n      }, __jsx(\"a\", null, \"Go to CSR page\")), __jsx(\"p\", null), __jsx(Button, {\n        variant: \"contained\",\n        onClick: function onClick() {\n          return confirm({\n            title: 'Are you sure?',\n            message: 'explanatory message',\n            onAnswer: function () {\n              var _onAnswer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(answer) {\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        if (answer) {\n                          _context.next = 2;\n                          break;\n                        }\n\n                        return _context.abrupt(\"return\");\n\n                      case 2:\n                        NProgress.start();\n\n                        try {\n                          notify('You successfully confirmed.');\n                        } catch (error) {\n                          console.error(error);\n                          notify(error);\n                        } finally {\n                          NProgress.done();\n                        }\n\n                      case 4:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n\n              function onAnswer(_x) {\n                return _onAnswer.apply(this, arguments);\n              }\n\n              return onAnswer;\n            }()\n          });\n        }\n      }, \"Test Confirmer and Notifier\"), __jsx(\"p\", null, \"Your email: \", this.props.user.email), __jsx(\"p\", null, \"Your username: \", this.props.user.displayName)));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var slug, user;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                slug = 'team-builder-book';\n                _context2.next = 3;\n                return getUserBySlugApiMethod(slug);\n\n              case 3:\n                user = _context2.sent;\n                console.log(user);\n                return _context2.abrupt(\"return\", _objectSpread({}, user));\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getInitialProps() {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Index;\n}(React.Component);\n\nexport default Index;","map":{"version":3,"names":["Button","React","Head","Link","Layout","NProgress","confirm","notify","getUserBySlugApiMethod","Index","props","padding","fontSize","height","title","message","onAnswer","answer","start","error","console","done","user","email","displayName","slug","log","Component"],"sources":["E:/saas/book/1-begin/app/pages/index.tsx"],"sourcesContent":["import Button from '@material-ui/core/Button';\r\nimport React from 'react';\r\nimport Head from 'next/head';\r\nimport Link from 'next/link';\r\n\r\nimport Layout from '../components/layout';\r\nimport NProgress from 'nprogress';\r\n\r\nimport confirm from '../lib/confirm';\r\nimport notify from '../lib/notify';\r\nimport { getUserBySlugApiMethod } from '../lib/api/public';\r\n\r\ntype Props = { user: { email: string; displayName: string } };\r\n\r\nclass Index extends React.Component<Props> {\r\n  public static async getInitialProps() {\r\n    const slug = 'team-builder-book';\r\n\r\n    const user = await getUserBySlugApiMethod(slug);\r\n\r\n    console.log(user);\r\n\r\n    return { ...user };\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <Layout {...this.props}>\r\n        <Head>\r\n          <title>Index page</title>\r\n          <meta name=\"description\" content=\"This is a description of the Index page\" />\r\n        </Head>\r\n        <div style={{ padding: '0px 30px', fontSize: '15px', height: '100%' }}>\r\n          <p>Content on Index page</p>\r\n          <Link href=\"/csr-page\" as=\"/csr-page\">\r\n            <a>Go to CSR page</a>\r\n          </Link>\r\n          <p />\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={() =>\r\n              confirm({\r\n                title: 'Are you sure?',\r\n                message: 'explanatory message',\r\n                onAnswer: async (answer) => {\r\n                  // console.log(answer);\r\n                  if (!answer) {\r\n                    return;\r\n                  }\r\n\r\n                  NProgress.start();\r\n\r\n                  try {\r\n                    notify('You successfully confirmed.');\r\n                  } catch (error) {\r\n                    console.error(error);\r\n                    notify(error);\r\n                  } finally {\r\n                    NProgress.done();\r\n                  }\r\n                },\r\n              })\r\n            }\r\n          >\r\n            Test Confirmer and Notifier\r\n          </Button>\r\n          <p>Your email: {this.props.user.email}</p>\r\n          <p>Your username: {this.props.user.displayName}</p>\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Index;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,OAAOA,MAAP,MAAmB,0BAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AAEA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,SAAP,MAAsB,WAAtB;AAEA,OAAOC,OAAP,MAAoB,gBAApB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,SAASC,sBAAT,QAAuC,mBAAvC;;IAIMC,K;;;;;;;;;;;;;WAWJ,kBAAgB;MACd,OACE,MAAC,MAAD,EAAY,KAAKC,KAAjB,EACE,MAAC,IAAD,QACE,kCADF,EAEE;QAAM,IAAI,EAAC,aAAX;QAAyB,OAAO,EAAC;MAAjC,EAFF,CADF,EAKE;QAAK,KAAK,EAAE;UAAEC,OAAO,EAAE,UAAX;UAAuBC,QAAQ,EAAE,MAAjC;UAAyCC,MAAM,EAAE;QAAjD;MAAZ,GACE,yCADF,EAEE,MAAC,IAAD;QAAM,IAAI,EAAC,WAAX;QAAuB,EAAE,EAAC;MAA1B,GACE,kCADF,CAFF,EAKE,gBALF,EAME,MAAC,MAAD;QACE,OAAO,EAAC,WADV;QAEE,OAAO,EAAE;UAAA,OACPP,OAAO,CAAC;YACNQ,KAAK,EAAE,eADD;YAENC,OAAO,EAAE,qBAFH;YAGNC,QAAQ;cAAA,yEAAE,iBAAOC,MAAP;gBAAA;kBAAA;oBAAA;sBAAA;wBAAA,IAEHA,MAFG;0BAAA;0BAAA;wBAAA;;wBAAA;;sBAAA;wBAMRZ,SAAS,CAACa,KAAV;;wBAEA,IAAI;0BACFX,MAAM,CAAC,6BAAD,CAAN;wBACD,CAFD,CAEE,OAAOY,KAAP,EAAc;0BACdC,OAAO,CAACD,KAAR,CAAcA,KAAd;0BACAZ,MAAM,CAACY,KAAD,CAAN;wBACD,CALD,SAKU;0BACRd,SAAS,CAACgB,IAAV;wBACD;;sBAfO;sBAAA;wBAAA;oBAAA;kBAAA;gBAAA;cAAA,CAAF;;cAAA;gBAAA;cAAA;;cAAA;YAAA;UAHF,CAAD,CADA;QAAA;MAFX,iCANF,EAkCE,iCAAgB,KAAKX,KAAL,CAAWY,IAAX,CAAgBC,KAAhC,CAlCF,EAmCE,oCAAmB,KAAKb,KAAL,CAAWY,IAAX,CAAgBE,WAAnC,CAnCF,CALF,CADF;IA6CD;;;;sFAxDD;QAAA;QAAA;UAAA;YAAA;cAAA;gBACQC,IADR,GACe,mBADf;gBAAA;gBAAA,OAGqBjB,sBAAsB,CAACiB,IAAD,CAH3C;;cAAA;gBAGQH,IAHR;gBAKEF,OAAO,CAACM,GAAR,CAAYJ,IAAZ;gBALF,oDAOcA,IAPd;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;EADkBrB,KAAK,CAAC0B,S;;AA4D1B,eAAelB,KAAf"},"metadata":{},"sourceType":"module"}