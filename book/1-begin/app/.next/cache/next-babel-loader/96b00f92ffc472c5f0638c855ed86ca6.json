{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Head from 'next/head';\nimport NProgress from 'nprogress';\nimport * as React from 'react';\nimport Layout from '../components/layout';\nimport { getUserBySlugApiMethod, updateProfileApiMethod } from '../lib/api/public';\nimport { getSignedRequestForUploadApiMethod, uploadFileUsingSignedPutRequestApiMethod } from '../lib/api/team-member';\nimport { resizeImage } from '../lib/resizeImage';\nimport notify from '../lib/notify';\n\nvar YourSettings = /*#__PURE__*/function (_React$Component) {\n  _inherits(YourSettings, _React$Component);\n\n  var _super = _createSuper(YourSettings);\n\n  function YourSettings(props) {\n    var _this;\n\n    _classCallCheck(this, YourSettings);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"onSubmit\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n        var _this$state, newName, newAvatarUrl;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n                _this$state = _this.state, newName = _this$state.newName, newAvatarUrl = _this$state.newAvatarUrl;\n\n                if (newName) {\n                  _context.next = 5;\n                  break;\n                }\n\n                notify('Name is required');\n                return _context.abrupt(\"return\");\n\n              case 5:\n                NProgress.start();\n\n                _this.setState({\n                  disabled: true\n                });\n\n                _context.prev = 7;\n                _context.next = 10;\n                return updateProfileApiMethod({\n                  name: newName,\n                  avatarUrl: newAvatarUrl\n                });\n\n              case 10:\n                notify('You successfully updated your profile.');\n                _context.next = 16;\n                break;\n\n              case 13:\n                _context.prev = 13;\n                _context.t0 = _context[\"catch\"](7);\n                notify(_context.t0);\n\n              case 16:\n                _context.prev = 16;\n\n                _this.setState({\n                  disabled: false\n                });\n\n                NProgress.done();\n                return _context.finish(16);\n\n              case 20:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[7, 13, 16, 20]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"uploadFile\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var fileElement, file, fileName, fileType, bucket, prefix, responseFromApiServerForUpload, resizedFile;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              fileElement = document.getElementById('upload-file-user-avatar');\n              file = fileElement.files[0];\n\n              if (!(file == null)) {\n                _context2.next = 5;\n                break;\n              }\n\n              notify('No file selected for upload.');\n              return _context2.abrupt(\"return\");\n\n            case 5:\n              fileName = file.name;\n              fileType = file.type;\n              NProgress.start();\n              console.log('reset');\n\n              _this.setState({\n                disabled: true\n              });\n\n              bucket = process.env.BUCKET_FOR_AVATARS;\n              prefix = 'team-builder-book';\n              _context2.prev = 12;\n              _context2.next = 15;\n              return getSignedRequestForUploadApiMethod({\n                fileName: fileName,\n                fileType: fileType,\n                prefix: prefix,\n                bucket: bucket\n              });\n\n            case 15:\n              responseFromApiServerForUpload = _context2.sent;\n              _context2.next = 18;\n              return resizeImage(file, 128, 128);\n\n            case 18:\n              resizedFile = _context2.sent;\n              _context2.next = 21;\n              return uploadFileUsingSignedPutRequestApiMethod(file, responseFromApiServerForUpload.signedRequest, {\n                'Cache-Control': 'max-age=2592000'\n              });\n\n            case 21:\n              _this.setState({\n                newAvatarUrl: responseFromApiServerForUpload.url\n              });\n\n              _context2.next = 24;\n              return updateProfileApiMethod({\n                name: _this.state.newName,\n                avatarUrl: _this.state.newAvatarUrl\n              });\n\n            case 24:\n              notify('You successfully uploaded new avatar.');\n              _context2.next = 30;\n              break;\n\n            case 27:\n              _context2.prev = 27;\n              _context2.t0 = _context2[\"catch\"](12);\n              notify(_context2.t0);\n\n            case 30:\n              _context2.prev = 30;\n              console.log('final end data');\n              console.log(_this.state.newAvatarUrl);\n              fileElement.value = '';\n\n              _this.setState({\n                disabled: false\n              });\n\n              NProgress.done();\n              return _context2.finish(30);\n\n            case 37:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[12, 27, 30, 37]]);\n    })));\n\n    _this.state = {\n      newName: _this.props.user.displayName,\n      newAvatarUrl: _this.props.user.avatarUrl,\n      disabled: false\n    };\n    return _this;\n  }\n\n  _createClass(YourSettings, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var user = this.props.user;\n      var _this$state2 = this.state,\n          newName = _this$state2.newName,\n          newAvatarUrl = _this$state2.newAvatarUrl;\n      console.log('Data of state');\n      console.log(newAvatarUrl);\n      return __jsx(Layout, this.props, __jsx(Head, null, __jsx(\"title\", null, \"Your Settings at Async\"), __jsx(\"meta\", {\n        name: \"description\",\n        content: \"description\"\n      })), __jsx(\"div\", {\n        style: {\n          padding: this.props.isMobile ? '0px' : '0px 30px',\n          fontSize: '15px',\n          height: '100%'\n        }\n      }, __jsx(\"h3\", null, \"Your Settings\"), __jsx(\"h4\", {\n        style: {\n          marginTop: '40px'\n        }\n      }, \"Your account\"), __jsx(\"ul\", null, __jsx(\"li\", null, \"Your email: \", __jsx(\"b\", null, user.email)), __jsx(\"li\", null, \"Your username: \", __jsx(\"b\", null, user.displayName))), __jsx(\"form\", {\n        onSubmit: this.onSubmit,\n        autoComplete: \"off\"\n      }, __jsx(\"h4\", null, \"Your username\"), __jsx(TextField, {\n        autoComplete: \"off\",\n        value: newName,\n        helperText: \"Your username as seen by your team members\",\n        onChange: function onChange(event) {\n          _this2.setState({\n            newName: event.target.value\n          });\n        }\n      }), __jsx(\"br\", null), __jsx(\"br\", null), __jsx(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        type: \"submit\",\n        disabled: this.state.disabled\n      }, \"Update username\")), __jsx(\"br\", null), __jsx(\"h4\", null, \"Your photo\"), __jsx(Avatar, {\n        src: newAvatarUrl,\n        style: {\n          display: 'inline-flex',\n          verticalAlign: 'middle',\n          marginRight: 20,\n          width: 60,\n          height: 60\n        }\n      }), __jsx(\"label\", {\n        htmlFor: \"upload-file-user-avatar\"\n      }, __jsx(Button, {\n        variant: \"outlined\",\n        color: \"primary\",\n        component: \"span\",\n        disabled: this.state.disabled\n      }, \"Update avatar\")), __jsx(\"input\", {\n        accept: \"image/*\",\n        name: \"upload-file-user-avatar\",\n        id: \"upload-file-user-avatar\",\n        type: \"file\",\n        style: {\n          display: 'none'\n        },\n        onChange: this.uploadFile\n      }), __jsx(\"p\", null), __jsx(\"br\", null)));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var slug, user;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                slug = 'team-builder-book';\n                _context3.next = 3;\n                return getUserBySlugApiMethod(slug);\n\n              case 3:\n                user = _context3.sent;\n                console.log(user);\n                return _context3.abrupt(\"return\", _objectSpread({}, user));\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function getInitialProps() {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return YourSettings;\n}(React.Component);\n\nexport default YourSettings;","map":{"version":3,"names":["Avatar","Button","TextField","Head","NProgress","React","Layout","getUserBySlugApiMethod","updateProfileApiMethod","getSignedRequestForUploadApiMethod","uploadFileUsingSignedPutRequestApiMethod","resizeImage","notify","YourSettings","props","event","preventDefault","state","newName","newAvatarUrl","start","setState","disabled","name","avatarUrl","done","fileElement","document","getElementById","file","files","fileName","fileType","type","console","log","bucket","process","env","BUCKET_FOR_AVATARS","prefix","responseFromApiServerForUpload","resizedFile","signedRequest","url","value","user","displayName","padding","isMobile","fontSize","height","marginTop","email","onSubmit","target","display","verticalAlign","marginRight","width","uploadFile","slug","Component"],"sources":["E:/saas/book/1-begin/app/pages/your-settings.tsx"],"sourcesContent":["import Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Head from 'next/head';\r\nimport NProgress from 'nprogress';\r\nimport * as React from 'react';\r\n\r\nimport Layout from '../components/layout';\r\n\r\nimport { getUserBySlugApiMethod, updateProfileApiMethod } from '../lib/api/public';\r\nimport {\r\n  getSignedRequestForUploadApiMethod,\r\n  uploadFileUsingSignedPutRequestApiMethod,\r\n} from '../lib/api/team-member';\r\nimport { resizeImage } from '../lib/resizeImage';\r\n\r\nimport notify from '../lib/notify';\r\n\r\ntype Props = {\r\n  isMobile: boolean;\r\n  user: { email: string; displayName: string; slug: string; avatarUrl: string };\r\n};\r\n\r\ntype State = { newName: string; newAvatarUrl: string; disabled: boolean };\r\n\r\nclass YourSettings extends React.Component<Props, State> {\r\n  public static async getInitialProps() {\r\n    const slug = 'team-builder-book';\r\n\r\n    const user = await getUserBySlugApiMethod(slug);\r\n    console.log(user);\r\n    return { ...user };\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      newName: this.props.user.displayName,\r\n      newAvatarUrl: this.props.user.avatarUrl,\r\n      disabled: false,\r\n    };\r\n  }\r\n\r\n  public render() {\r\n    const { user } = this.props;\r\n    const { newName, newAvatarUrl } = this.state;\r\n\r\n    console.log('Data of state');\r\n    console.log(newAvatarUrl);\r\n\r\n    return (\r\n      <Layout {...this.props}>\r\n        <Head>\r\n          <title>Your Settings at Async</title>\r\n          <meta name=\"description\" content=\"description\" />\r\n        </Head>\r\n        <div\r\n          style={{\r\n            padding: this.props.isMobile ? '0px' : '0px 30px',\r\n            fontSize: '15px',\r\n            height: '100%',\r\n          }}\r\n        >\r\n          <h3>Your Settings</h3>\r\n          <h4 style={{ marginTop: '40px' }}>Your account</h4>\r\n          <ul>\r\n            <li>\r\n              Your email: <b>{user.email}</b>\r\n            </li>\r\n            <li>\r\n              Your username: <b>{user.displayName}</b>\r\n            </li>\r\n          </ul>\r\n          <form onSubmit={this.onSubmit} autoComplete=\"off\">\r\n            <h4>Your username</h4>\r\n            <TextField\r\n              autoComplete=\"off\"\r\n              value={newName}\r\n              helperText=\"Your username as seen by your team members\"\r\n              onChange={(event) => {\r\n                this.setState({ newName: event.target.value });\r\n              }}\r\n            />\r\n            <br />\r\n            <br />\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              type=\"submit\"\r\n              disabled={this.state.disabled}\r\n            >\r\n              Update username\r\n            </Button>\r\n          </form>\r\n\r\n          <br />\r\n          <h4>Your photo</h4>\r\n          <Avatar\r\n            src={newAvatarUrl}\r\n            style={{\r\n              display: 'inline-flex',\r\n              verticalAlign: 'middle',\r\n              marginRight: 20,\r\n              width: 60,\r\n              height: 60,\r\n            }}\r\n          />\r\n          <label htmlFor=\"upload-file-user-avatar\">\r\n            <Button\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n              component=\"span\"\r\n              disabled={this.state.disabled}\r\n            >\r\n              Update avatar\r\n            </Button>\r\n          </label>\r\n          <input\r\n            accept=\"image/*\"\r\n            name=\"upload-file-user-avatar\"\r\n            id=\"upload-file-user-avatar\"\r\n            type=\"file\"\r\n            style={{ display: 'none' }}\r\n            onChange={this.uploadFile}\r\n          />\r\n          <p />\r\n          <br />\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  private onSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n\r\n    const { newName, newAvatarUrl } = this.state;\r\n\r\n    if (!newName) {\r\n      notify('Name is required');\r\n      return;\r\n    }\r\n\r\n    NProgress.start();\r\n    this.setState({ disabled: true });\r\n\r\n    try {\r\n      await updateProfileApiMethod({\r\n        name: newName,\r\n        avatarUrl: newAvatarUrl,\r\n      });\r\n\r\n      notify('You successfully updated your profile.');\r\n    } catch (error) {\r\n      notify(error);\r\n    } finally {\r\n      this.setState({ disabled: false });\r\n      NProgress.done();\r\n    }\r\n  };\r\n\r\n  private uploadFile = async () => {\r\n    const fileElement = document.getElementById('upload-file-user-avatar') as HTMLFormElement;\r\n    const file = fileElement.files[0];\r\n\r\n    if (file == null) {\r\n      notify('No file selected for upload.');\r\n      return;\r\n    }\r\n\r\n    const fileName = file.name;\r\n    const fileType = file.type;\r\n\r\n    NProgress.start();\r\n    console.log('reset');\r\n    this.setState({ disabled: true });\r\n\r\n    const bucket = process.env.BUCKET_FOR_AVATARS;\r\n\r\n    const prefix = 'team-builder-book';\r\n\r\n    try {\r\n      const responseFromApiServerForUpload = await getSignedRequestForUploadApiMethod({\r\n        fileName,\r\n        fileType,\r\n        prefix,\r\n        bucket,\r\n      });\r\n\r\n      const resizedFile = await resizeImage(file, 128, 128);\r\n\r\n      await uploadFileUsingSignedPutRequestApiMethod(\r\n        file,\r\n        responseFromApiServerForUpload.signedRequest,\r\n        {\r\n          'Cache-Control': 'max-age=2592000',\r\n        },\r\n      );\r\n\r\n      this.setState({\r\n        newAvatarUrl: responseFromApiServerForUpload.url,\r\n      });\r\n\r\n      await updateProfileApiMethod({\r\n        name: this.state.newName,\r\n        avatarUrl: this.state.newAvatarUrl,\r\n      });\r\n\r\n      notify('You successfully uploaded new avatar.');\r\n    } catch (error) {\r\n      notify(error);\r\n    } finally {\r\n      console.log('final end data');\r\n      console.log(this.state.newAvatarUrl);\r\n      fileElement.value = '';\r\n      this.setState({ disabled: false });\r\n      NProgress.done();\r\n    }\r\n  };\r\n}\r\n\r\nexport default YourSettings;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}